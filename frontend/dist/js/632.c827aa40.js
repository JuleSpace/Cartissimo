"use strict";(self["webpackChunkapp_handicap_frontend"]=self["webpackChunkapp_handicap_frontend"]||[]).push([[632],{2632:(e,n,o)=>{o.r(n),o.d(n,{default:()=>w});var r=o(641),a=o(3751),t=o(33),s={class:"login-container"},l={class:"form-group"},i={class:"form-group"},u=["disabled"],d={key:0,class:"error-message"};function c(e,n,o,c,p,v){return(0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("form",{class:"login-form",onSubmit:n[2]||(n[2]=(0,a.D$)((function(){return c.handleSubmit&&c.handleSubmit.apply(c,arguments)}),["prevent"]))},[n[5]||(n[5]=(0,r.Lk)("h2",null,"Connexion",-1)),(0,r.Lk)("div",l,[n[3]||(n[3]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":n[0]||(n[0]=function(e){return c.email=e}),required:"",placeholder:"Entrez votre email"},null,512),[[a.Jo,c.email]])]),(0,r.Lk)("div",i,[n[4]||(n[4]=(0,r.Lk)("label",{for:"password"},"Mot de passe",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":n[1]||(n[1]=function(e){return c.password=e}),required:"",placeholder:"Entrez votre mot de passe"},null,512),[[a.Jo,c.password]])]),(0,r.Lk)("button",{type:"submit",class:"submit-button",disabled:c.loading},(0,t.v_)(c.loading?"Connexion en cours...":"Se connecter"),9,u),c.error?((0,r.uX)(),(0,r.CE)("p",d,(0,t.v_)(c.error),1)):(0,r.Q3)("",!0)],32)])}var p=o(459),v=o(388),m=(o(4114),o(953)),f=o(6278),h=o(5220);const g={name:"LoginView",setup:function(){var e=(0,f.Pj)(),n=(0,h.rd)(),o=(0,m.KR)(""),r=(0,m.KR)(""),a=(0,m.KR)(!1),t=(0,m.KR)(""),s=function(){var s=(0,v.A)((0,p.A)().mark((function s(){var l,i;return(0,p.A)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,console.log("Tentative de connexion avec:",{email:o.value,password:r.value}),a.value=!0,t.value="",console.log("Envoi de la requête au store..."),s.next=7,e.dispatch("auth/login",{email:o.value,password:r.value});case 7:return console.log("Connexion réussie, vérification de l'état d'authentification..."),console.log("Token dans le store:",e.state.auth.token),console.log("Utilisateur dans le store:",e.state.auth.user),console.log("Tentative de redirection vers /themes..."),s.next=13,n.push("/themes");case 13:console.log("Redirection effectuée"),s.next=22;break;case 16:s.prev=16,s.t0=s["catch"](0),console.error("Erreur de connexion:",s.t0),console.error("Message d'erreur:",s.t0.message),console.error("Réponse d'erreur:",null===(l=s.t0.response)||void 0===l?void 0:l.data),t.value=(null===(i=s.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)||"Erreur de connexion. Veuillez vérifier vos identifiants.";case 22:return s.prev=22,a.value=!1,s.finish(22);case 25:case"end":return s.stop()}}),s,null,[[0,16,22,25]])})));return function(){return s.apply(this,arguments)}}();return{email:o,password:r,loading:a,error:t,handleSubmit:s}}};var b=o(6262);const k=(0,b.A)(g,[["render",c],["__scopeId","data-v-47f2041b"]]),w=k}}]);
//# sourceMappingURL=632.c827aa40.js.map