"use strict";(self["webpackChunkapp_handicap_frontend"]=self["webpackChunkapp_handicap_frontend"]||[]).push([[957],{788:(e,r,n)=>{var t=n(34),o=n(4576),a=n(8227),i=a("match");e.exports=function(e){var r;return t(e)&&(void 0!==(r=e[i])?!!r:"RegExp"===o(e))}},1436:(e,r,n)=>{var t=n(8227),o=t("match");e.exports=function(e){var r=/./;try{"/./"[e](r)}catch(n){try{return r[o]=!1,"/./"[e](r)}catch(t){}}return!1}},1699:(e,r,n)=>{var t=n(6518),o=n(9504),a=n(2892),i=n(7750),l=n(655),u=n(1436),s=o("".indexOf);t({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~s(l(i(this)),l(a(e)),arguments.length>1?arguments[1]:void 0)}})},2008:(e,r,n)=>{var t=n(6518),o=n(9213).filter,a=n(597),i=a("filter");t({target:"Array",proto:!0,forced:!i},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},2489:(e,r,n)=>{var t=n(6518),o=n(9565),a=n(9306),i=n(8551),l=n(1767),u=n(9462),s=n(6319),c=n(6395),d=u((function(){var e,r,n,t=this.iterator,a=this.predicate,l=this.next;while(1){if(e=i(o(l,t)),r=this.done=!!e.done,r)return;if(n=e.value,s(t,a,[n,this.counter++],!0))return n}}));t({target:"Iterator",proto:!0,real:!0,forced:c},{filter:function(e){return i(this),a(e),new d(l(this),{predicate:e})}})},2892:(e,r,n)=>{var t=n(788),o=TypeError;e.exports=function(e){if(t(e))throw new o("The method doesn't accept regular expressions");return e}},3607:(e,r,n)=>{var t=n(2839),o=t.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},3709:(e,r,n)=>{var t=n(2839),o=t.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},3763:(e,r,n)=>{var t=n(2839);e.exports=/MSIE|Trident/.test(t)},4423:(e,r,n)=>{var t=n(6518),o=n(9617).includes,a=n(9039),i=n(6469),l=a((function(){return!Array(1).includes()}));t({target:"Array",proto:!0,forced:l},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},4488:(e,r,n)=>{var t=n(7680),o=Math.floor,a=function(e,r){var n=e.length;if(n<8){var i,l,u=1;while(u<n){l=u,i=e[u];while(l&&r(e[l-1],i)>0)e[l]=e[--l];l!==u++&&(e[l]=i)}}else{var s=o(n/2),c=a(t(e,0,s),r),d=a(t(e,s),r),v=c.length,h=d.length,f=0,p=0;while(f<v||p<h)e[f+p]=f<v&&p<h?r(c[f],d[p])<=0?c[f++]:d[p++]:f<v?c[f++]:d[p++]}return e};e.exports=a},4606:(e,r,n)=>{var t=n(6823),o=TypeError;e.exports=function(e,r){if(!delete e[r])throw new o("Cannot delete property "+t(r)+" of "+t(e))}},6279:(e,r,n)=>{var t=n(6840);e.exports=function(e,r,n){for(var o in r)t(e,o,r[o],n);return e}},6319:(e,r,n)=>{var t=n(8551),o=n(9539);e.exports=function(e,r,n,a){try{return a?r(t(n)[0],n[1]):r(n)}catch(i){o(e,"throw",i)}}},6910:(e,r,n)=>{var t=n(6518),o=n(9504),a=n(9306),i=n(8981),l=n(6198),u=n(4606),s=n(655),c=n(9039),d=n(4488),v=n(4598),h=n(3709),f=n(3763),p=n(9519),m=n(3607),g=[],k=o(g.sort),y=o(g.push),A=c((function(){g.sort(void 0)})),b=c((function(){g.sort(null)})),x=v("sort"),w=!c((function(){if(p)return p<70;if(!(h&&h>3)){if(f)return!0;if(m)return m<603;var e,r,n,t,o="";for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(t=0;t<47;t++)g.push({k:r+t,v:n})}for(g.sort((function(e,r){return r.v-e.v})),t=0;t<g.length;t++)r=g[t].k.charAt(0),o.charAt(o.length-1)!==r&&(o+=r);return"DGBEFHACIJK"!==o}})),E=A||!b||!x||!w,I=function(e){return function(r,n){return void 0===n?-1:void 0===r?1:void 0!==e?+e(r,n)||0:s(r)>s(n)?1:-1}};t({target:"Array",proto:!0,forced:E},{sort:function(e){void 0!==e&&a(e);var r=i(this);if(w)return void 0===e?k(r):k(r,e);var n,t,o=[],s=l(r);for(t=0;t<s;t++)t in r&&y(o,r[t]);d(o,I(e)),n=l(o),t=0;while(t<n)r[t]=o[t++];while(t<s)u(r,t++);return r}})},7957:(e,r,n)=>{n.r(r),n.d(r,{default:()=>R});n(2675),n(9463),n(2010);var t=n(641),o=n(33),a={class:"animation-viewer container"},i={class:"header"},l={class:"back-button-container"},u={key:0,class:"loading"},s={key:1,class:"alert alert-error"},c={key:2,class:"animations-container"},d={class:"grid grid-2"},v={class:"card"},h=["src","alt"],f={class:"card"},p=["src","alt"],m={class:"controls"},g=["disabled"],k=["disabled"],y=["disabled"],A=["src"];function b(e,r,n,b,x,w){var E,I,L,C,_,P;return(0,t.uX)(),(0,t.CE)("div",a,[(0,t.Lk)("div",i,[(0,t.Lk)("h1",null,(0,o.v_)(b.themeName),1)]),(0,t.Lk)("div",l,[(0,t.Lk)("button",{onClick:r[0]||(r[0]=function(){return b.goBack&&b.goBack.apply(b,arguments)}),class:"btn btn-primary back-button"},r[5]||(r[5]=[(0,t.Lk)("span",{class:"back-icon"},"←",-1),(0,t.eW)(" Retour aux thèmes ")]))]),b.loading?((0,t.uX)(),(0,t.CE)("div",u,"Chargement...")):b.error?((0,t.uX)(),(0,t.CE)("div",s,(0,o.v_)(b.error),1)):((0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("div",d,[(0,t.Lk)("div",v,[r[6]||(r[6]=(0,t.Lk)("h3",null,"Version Animée",-1)),(0,t.Lk)("img",{src:b.getImagePath(null===(E=b.currentAnimations[0])||void 0===E?void 0:E.animatedGifPath),alt:(null===(I=b.currentAnimations[0])||void 0===I?void 0:I.name)+" animé",class:"animation-image"},null,8,h),(0,t.Lk)("p",null,(0,o.v_)(null===(L=b.currentAnimations[0])||void 0===L?void 0:L.description),1)]),(0,t.Lk)("div",f,[r[7]||(r[7]=(0,t.Lk)("h3",null,"Version Réelle",-1)),(0,t.Lk)("img",{src:b.getImagePath(null===(C=b.currentAnimations[0])||void 0===C?void 0:C.realGifPath),alt:(null===(_=b.currentAnimations[0])||void 0===_?void 0:_.name)+" réel",class:"animation-image"},null,8,p),(0,t.Lk)("p",null,(0,o.v_)(null===(P=b.currentAnimations[0])||void 0===P?void 0:P.description),1)])]),(0,t.Lk)("div",m,[(0,t.Lk)("button",{onClick:r[1]||(r[1]=function(){return b.previousAnimation&&b.previousAnimation.apply(b,arguments)}),disabled:0===b.currentIndex,class:"btn btn-primary"}," Précédent ",8,g),(0,t.Lk)("button",{onClick:r[2]||(r[2]=function(){return b.playSound&&b.playSound.apply(b,arguments)}),class:"btn btn-secondary",disabled:!b.currentSound},(0,o.v_)(b.isPlaying?"Arrêter":"Jouer le son"),9,k),(0,t.Lk)("button",{onClick:r[3]||(r[3]=function(){return b.nextAnimation&&b.nextAnimation.apply(b,arguments)}),disabled:b.currentIndex>=b.animations.length-1,class:"btn btn-primary"}," Suivant ",8,y)])])),(0,t.Lk)("audio",{ref:"audioPlayer",src:b.currentSound,onEnded:r[4]||(r[4]=function(){return b.handleAudioEnded&&b.handleAudioEnded.apply(b,arguments)}),preload:"auto"},null,40,A)])}var x=n(459),w=n(388),E=(n(2008),n(4423),n(4114),n(6910),n(8111),n(2489),n(6099),n(1699),n(953)),I=n(5220),L=n(4335);const C={name:"AnimationViewer",setup:function(){var e=(0,I.lq)(),r=(0,I.rd)(),n=(0,E.KR)([]),o=(0,E.KR)(0),a=(0,E.KR)(!0),i=(0,E.KR)(""),l=(0,E.KR)(""),u=(0,E.KR)(null),s=(0,E.KR)(!1),c=(0,t.EW)((function(){var e;if(console.log("Toutes les animations:",n.value),!n.value.length)return[];var r=null===(e=n.value[o.value])||void 0===e?void 0:e.name.split("_")[0];console.log("Type actuel:",r);var t=n.value.filter((function(e){var n=e.name.split("_")[0];return n===r})),a=t.sort((function(e,r){return e.name.includes("_anime")?-1:r.name.includes("_anime")?1:0}));return console.log("Animations filtrées et triées:",a),a})),d=(0,t.EW)((function(){var e;if(!c.value.length)return null;var r=null===(e=c.value[0])||void 0===e?void 0:e.soundPath;if(console.log("Chemin du son brut:",r),!r)return console.log("Pas de chemin de son disponible"),null;var n="http://localhost:3000".concat(r);return console.log("Chemin du son final:",n),n})),v=function(e){if(!e)return console.log("Pas de chemin d'image disponible"),"";var r="http://localhost:3000".concat(e);return console.log("Chemin de l'image:",r),r},h=function(){var r=(0,w.A)((0,x.A)().mark((function r(){var t,o,i;return(0,x.A)().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,console.log("Début de fetchAnimations"),console.log("Token:",localStorage.getItem("token")),console.log("Theme ID:",e.params.themeId),r.next=6,L.A.get("http://localhost:3000/api/themes/".concat(e.params.themeId,"/animations"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 6:t=r.sent,console.log("Réponse reçue:",t.data),n.value=t.data,r.next=16;break;case 11:r.prev=11,r.t0=r["catch"](0),console.error("Erreur lors de la récupération des animations:",r.t0),console.error("Détails de l'erreur:",null===(o=r.t0.response)||void 0===o?void 0:o.data),r.t0.value=(null===(i=r.t0.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"Erreur lors de la récupération des animations";case 16:return r.prev=16,a.value=!1,r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[0,11,16,19]])})));return function(){return r.apply(this,arguments)}}(),f=function(){u.value?(console.log("Tentative de lecture du son:",d.value),s.value?(console.log("Arrêt du son"),u.value.pause(),u.value.currentTime=0):(console.log("Démarrage du son"),u.value.load(),u.value.play()["catch"]((function(e){console.error("Erreur lors de la lecture du son:",e),e.value="Erreur lors de la lecture du son"}))),s.value=!s.value):console.error("Audio player non initialisé")},p=function(){s.value=!1,u.value.currentTime=0},m=function(){o.value<n.value.length-1&&(o.value+=1,s.value&&f())},g=function(){o.value>0&&(o.value-=1,s.value&&f())},k=function(){r.push("/themes")};return(0,t.sV)(h),{themeName:l,animations:n,currentAnimations:c,currentIndex:o,loading:a,error:i,currentSound:d,audioPlayer:u,isPlaying:s,playSound:f,nextAnimation:m,previousAnimation:g,goBack:k,getImagePath:v,handleAudioEnded:p}}};var _=n(6262);const P=(0,_.A)(C,[["render",b],["__scopeId","data-v-197ecbf2"]]),R=P},9462:(e,r,n)=>{var t=n(9565),o=n(2360),a=n(6699),i=n(6279),l=n(8227),u=n(1181),s=n(5966),c=n(7657).IteratorPrototype,d=n(2529),v=n(9539),h=l("toStringTag"),f="IteratorHelper",p="WrapForValidIterator",m=u.set,g=function(e){var r=u.getterFor(e?p:f);return i(o(c),{next:function(){var n=r(this);if(e)return n.nextHandler();if(n.done)return d(void 0,!0);try{var t=n.nextHandler();return n.returnHandlerResult?t:d(t,n.done)}catch(o){throw n.done=!0,o}},return:function(){var n=r(this),o=n.iterator;if(n.done=!0,e){var a=s(o,"return");return a?t(a,o):d(void 0,!0)}if(n.inner)try{v(n.inner.iterator,"normal")}catch(i){return v(o,"throw",i)}return o&&v(o,"normal"),d(void 0,!0)}})},k=g(!0),y=g(!1);a(y,h,"Iterator Helper"),e.exports=function(e,r,n){var t=function(t,o){o?(o.iterator=t.iterator,o.next=t.next):o=t,o.type=r?p:f,o.returnHandlerResult=!!n,o.nextHandler=e,o.counter=0,o.done=!1,m(this,o)};return t.prototype=r?k:y,t}}}]);
//# sourceMappingURL=957.288b63c3.js.map